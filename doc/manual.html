<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>The Vorlage Manual</title>
<!-- 2020-12-22 Tue 17:21 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Kevin Marschke &lt;kmarshcke@ellem.ai&gt;" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">The Vorlage Manual</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. Introduction</a>
<ul>
<li><a href="#sec-1-1">1.1. Example</a></li>
<li><a href="#sec-1-2">1.2. Purpose</a></li>
</ul>
</li>
<li><a href="#sec-2">2. Components</a>
<ul>
<li><a href="#sec-2-1">2.1. Loading Process</a></li>
</ul>
</li>
<li><a href="#sec-3">3. Documents</a>
<ul>
<li><a href="#sec-3-1">3.1. Source Formats</a></li>
<li><a href="#sec-3-2">3.2. Target Formats</a></li>
</ul>
</li>
<li><a href="#sec-4">4. Macros</a>
<ul>
<li><a href="#sec-4-1">4.1. #define</a></li>
<li><a href="#sec-4-2">4.2. #append</a></li>
<li><a href="#sec-4-3">4.3. #prepend</a></li>
</ul>
</li>
<li><a href="#sec-5">5. Processors</a>
<ul>
<li><a href="#sec-5-1">5.1. Processor File</a></li>
</ul>
</li>
<li><a href="#sec-6">6. Variables</a>
<ul>
<li><a href="#sec-6-1">6.1. Normal</a></li>
<li><a href="#sec-6-2">6.2. Processed</a></li>
</ul>
</li>
<li><a href="#sec-7">7. Input</a>
<ul>
<li><a href="#sec-7-1">7.1. Static Argument values</a></li>
<li><a href="#sec-7-2">7.2. Streamed Argument Values</a></li>
<li><a href="#sec-7-3">7.3. Processor Input</a></li>
</ul>
</li>
<li><a href="#sec-8">8. Further Elaboration on Technical Details</a>
<ul>
<li><a href="#sec-8-1">8.1. Circular Dependencies</a></li>
</ul>
</li>
</ul>
</div>
</div>
<p>
Copyright &copy; 2020 Ellem, Inc., all rights reserved.
</p>
<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Introduction</h2>
<div class="outline-text-2" id="text-1">
<p>
This is a reference manual for the Vorlage. For more
information and other documents, see <a href="https://ellem.ai/d-document-compiler">ellem.ai/d-document-compiler</a>.
</p>

<p>
vorlage puts together text documents by looking for specific
macros within the text documents themselves (such as .html, .txt, .js,
ect). Once compiled, the completed document is cached and can be
served over a variety of channels (http, fcgi, cli, ect).
</p>
</div>
<div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> Example</h3>
<div class="outline-text-3" id="text-1-1">
<p>
The best way to learn is with examples. Observe the following files:
</p>

<p>
<b>header.html</b>
</p>
<div class="org-src-container">

<pre class="src src-html" id="header.html">&lt;html&gt;
&lt;body&gt;
&lt;head&gt;&lt;title&gt;$(Title)&lt;/title&gt;&lt;/head&gt;
</pre>
</div>

<p>
<b>footer.html</b>
</p>
<div class="org-src-container">

<pre class="src src-html" id="footer.html">&lt;/body&gt;
&lt;/html&gt;
</pre>
</div>

<p>
<b>myproc.go</b>
</p>
<div class="org-src-container">

<pre class="src src-go" id="myproc.go">// ...
func MyIP() string {
	return getRemoteIP()
}
// ...
</pre>
</div>

<p>
And finally, <b>index.html</b>
</p>
<div class="org-src-container">

<pre class="src src-html" id="index.html">#prepend header.html
#append footer.html
#define $(MyName) Kevin
#define $(Title) Home Page

&lt;p&gt;Hello, my name is $(MyName).&lt;/p&gt;
&lt;p&gt;My IP is $(myproc.MyIP)!&lt;/p&gt;
</pre>
</div>

<p>
Vorlage will output the following:
</p>
<div class="org-src-container">

<pre class="src src-html" id="output-example">&lt;html&gt;
&lt;body&gt;
&lt;head&gt;&lt;title&gt;Home Page&lt;/title&gt;&lt;/head&gt;
&lt;p&gt;Hello, my name is Kevin.&lt;/p&gt;
&lt;p&gt;My IP is 127.0.0.1!&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3">1.2</span> Purpose</h3>
<div class="outline-text-3" id="text-1-2">
<p>
Here it is. Ellem has been working with HTTP/HTML for literally
decades and we have never loved doing it until now. 
</p>

<p>
We've seen everything; php, node, react, webassembly, apache, nginx,
coldfusion, dart, typescript, asp.net, drupal, squarespace,
wordpress. Why have all these products and technologies been made?
What problem is so big that there needs to have an endless amount of
solutions to support it? The problem is simple:
</p>

<p>
<b>HTTP sucks.</b>
</p>

<p>
The entire planet has adopted a standard that was never in a million
years supposed to be as widely used as it is now. HTML was made in a
weekend by 1 man who had no advanced knowledge in computer
engineering. HTTP was made by a small team trying to solve a problem
they had between a team of 50 people. Javascript was made in 2 weeks
and is named after another language to trick people in to using
it. But now: we've chosen these crappy technologies to serve as the
backbone to the most important wealth of knowledge in the history of
the solar system.
</p>

<p>
Ellem plans to mend the damage caused by the Internet's choice of
protocol with Vorlage. People using Vorlage will be forced to do
everything very deliberately and explicitly, all while being forced to
provide comprehensive documentation to every step.
</p>

<p>
<b>No more chaos. Vorlage demands order.</b>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Components</h2>
<div class="outline-text-2" id="text-2">
<p>
There's four distinct components to the Vorlage:
<b><a href="#sec-3">Documents</a></b>, <b><a href="#sec-7">Input</a></b>, <b><a href="#sec-6">Variables</a></b>, <b><a href="#sec-4">Macros</a></b>, and
<b><a href="#sec-5">Processors</a></b>. Documents are simply files such as text files, HTML
files, ect. Input is what the user has given in regards to the
generation of the document. Variables are symbols found in the
document that will be replaced with arbitrary text when the document
is compiled.  Macros are used to append and prepend documents, as well
as define variables. Finally, Processors are used to integrate complex
formation of what is known as <a href="#sec-6-2">Processed</a> variables.
</p>

<p>
Note that additional, more technical components such as caching, how
Documents are requested, and how documents are served will not be
covered in this manual. This manual is strictly for those wanting to
use the Vorlage, not develop for it.
</p>
</div>

<div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> Loading Process</h3>
<div class="outline-text-3" id="text-2-1">
<ol class="org-ol">
<li><b>Startup Phase</b>: Vorlage loads all processors and loads all
supporting libraries. After this phase, Vorlage is ready to
concurrently handle multiple requests indefinitely.
</li>
<li><b>Requesting Phase</b>: A file path is requested by the user through
Vorlage. This requested path is known as the "root
document". The user will also specify input at this point. Once
the Request has been fully loaded, it then enters the Loading
Phase.
</li>
<li><b>Loading Phase</b>: Vorlage loads the root
document and does the following actions known as "docload":
<ol class="org-ol">
<li>Vorlage then evaluates <a href="#sec-4">Macros</a> found in the document in order of
appearance.
</li>
<li>Vorlage attempts to open documents specified in the <i>#append</i> and
<i>#prepend</i> macros that were evaluated in 1. These documents are
known as "child documents"
</li>
<li>Each child document is then sent through docload (this in-turn
making docload a recursive process).
</li>
</ol>
<p>
Once docload is complete, the root document and child documents
are sent to their converters in order to go from their <i>Source
    Format</i> to their <i>Target Format</i>. At this point we're ready to move
to the Output Phase. Note that the Loading Phase can be skipped
and/or shorten with the use of chaching.
</p>
</li>
<li><b>Output Phase</b>: With the processors ready, request information
parsed, document and child documents loaded into their Target
Format, and all <i>#define</i> macros evaluated, the Output Phase can
begin. A document in the Output Phase can be streamed to the user
who had requested the document in the first place. This is the end
of the life cycle for the document.
</li>
<li><b>Shutdown Phase</b>: Vorlage unloads all the processors and deloads
all supporting libraries. All connections and requests will be
terminated.
</li>
</ol>
</div>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Documents</h2>
<div class="outline-text-2" id="text-3">
<p>
Documents are UTF-8 encoded files. The text is not canonicalized, so a
single accented code point is distinct from the same character
constructed from combining an accent and a letter; those are treated
as two code points.
</p>

<p>
All documents are considered to have <b><a href="#sec-3-1">Source Formats</a></b> as well their
desired <b><a href="#sec-3-2">Target Formats</a></b>. These source formats and target formats will
change from version to version. In regards to Vorlage
v1.0.0, the supported formats are listed below as well as their file
extension (which will become important later).
</p>

<p>
A single Document can prepend and appened an unlimited number of other
Documents with the use of <a href="#sec-4">Macros</a>. A Document can also define variables
(using <i>#define</i>) to be used within that document, or, by documents that
include it or included by it.
</p>
</div>
<div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1"><span class="section-number-3">3.1</span> Source Formats</h3>
<div class="outline-text-3" id="text-3-1">
<ul class="org-ul">
<li><a href="https://html.spec.whatwg.org/multipage/">html</a> (.html)
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2"><span class="section-number-3">3.2</span> Target Formats</h3>
<div class="outline-text-3" id="text-3-2">
<ul class="org-ul">
<li><a href="https://html.spec.whatwg.org/multipage/">html</a> (.html)
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> Macros</h2>
<div class="outline-text-2" id="text-4">
<p>
Macros are actions to perform during the compilation of a
Document. The presence of Macros are completely removed from the
Document(s) after they are compiled. The identity of a Macro must
follow this syntax:
</p>

<ol class="org-ol">
<li>Must be either at the very start of the Document or be directly
after by another Macro,
</li>
<li>must start with <code>#</code> called a <b>Macro Prefix</b>,
</li>
<li>followed by a UTF-8 alpha string called the <b>Marco Name</b>
</li>
<li>followed by arbitrary text called <b>Arguments</b>&#x2026; of which each one
is proceeded by a space (char code <code>0x20</code>) and optionally wrapped
in double quotation marks (char code <code>0x22</code>), and;
</li>
<li>will be ended with 1 newline (char code <code>0x10</code>).
</li>
</ol>

<p>
Available Macros:
</p>

<ul class="org-ul">
<li><i>#define</i>
</li>
<li><i>#append</i>
</li>
<li><i>#prepend</i>
</li>
</ul>
</div>

<div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1"><span class="section-number-3">4.1</span> #define</h3>
<div class="outline-text-3" id="text-4-1">
<p>
This macro defines a <a href="#sec-6-1">Normal</a> Variable. It has 2 arguments, the first
argument being the Normal Variable and the second being what it will
be defined as. Note that the first argument must be the entirety of
the Normal Variable and not just the Variable Name, this means the
<code>#define</code> will include the Variable Prefix <code>$(</code> and Variable
Suffix <code>)</code>. For example
</p>

<div class="org-src-container">

<pre class="src src-html">#define $(Name) Kevin

Hello, my name is $(Name).
</pre>
</div>

<p>
Note that if <code>#define</code> attempts to define an previously defined
variable, the Document will not be compiled and will return an error.
</p>
</div>
</div>

<div id="outline-container-sec-4-2" class="outline-3">
<h3 id="sec-4-2"><span class="section-number-3">4.2</span> #append</h3>
<div class="outline-text-3" id="text-4-2">
<p>
Append includes a Document (the includee) that, when compiled, be
outputted <i>after</i> the includer. The includee's Macros will
be processed the instant the #append is evaluated.
</p>

<p>
Note: <i>Circular Dependency</i> is detected, the Document will not
compile and an error outputted.
</p>
</div>
</div>

<div id="outline-container-sec-4-3" class="outline-3">
<h3 id="sec-4-3"><span class="section-number-3">4.3</span> #prepend</h3>
<div class="outline-text-3" id="text-4-3">
<p>
Append includes a Document (the includee) that, when compiled, be
outputted <i>before</i> the includer. The includee's Macros will
be processed the instant the #prepend is evaluated.
</p>

<p>
Note that if a <i>Circular Dependency</i> is detected, the Document will not
compile and an error outputted.
</p>
</div>
</div>
</div>
<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> Processors</h2>
<div class="outline-text-2" id="text-5">
<p>
Processors provide you with the ability to perform arbitrary code
execution during points in the Request Phase and the Output
Phase. A Processor consists of the following:
</p>

<ol class="org-ol">
<li>A Description of the Processor
</li>
<li>A comprehendsive list of <a href="#sec-6-2">its variables</a> aswell as each variable's
<a href="#sec-7">input</a>.
</li>
<li>A list of <a href="#sec-7-3">Processor-level input</a>
</li>
</ol>

<p>
<i>Note, the actual name of the processor is dictated by the name of the
encompassing <a href="#sec-5-1">Processor File</a>.</i>
</p>

<p>
Under normal (non-erroneous) operation, a given Processor has a sole
duty of defining its variables. Conclusively, Processors allow
unlimited applications such as databases, authentication, logging,
auditing, searching, ect.
</p>

<p>
To create a Processor, you must first compile a <b><a href="#sec-5-1">Processor File</a></b> and
then have that file in the relevant directory so that Vorlage can load
it during the Startup Phase.
</p>

<p>
/Note, Processors are technical in nature. An increase dependency on
them will lead to difficult-to-edit documents that defeats entire
purpose of Vorlage./
</p>
</div>

<div id="outline-container-sec-5-1" class="outline-3">
<h3 id="sec-5-1"><span class="section-number-3">5.1</span> Processor File</h3>
<div class="outline-text-3" id="text-5-1">
<p>
A Processor File is the tangible existance of a processor. A processor Fil
</p>

<p>
A processor file contains native code that contains the proper
exports. Support for types of processor files will variety as Vorlage
gains maturity. As of now, the following supported file types (and
formats) are supported:
</p>

<ul class="org-ul">
<li>ELF 64-bit LSB shared object (see <a href="http://tldp.org/HOWTO/Program-Library-HOWTO/shared-libraries.html">here</a>) (<code>libmyproc.so</code>)
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6"><span class="section-number-2">6</span> Variables</h2>
<div class="outline-text-2" id="text-6">
<p>
Inside of a Document, there exists Variables. During the Output Phase,
these variables are replaced with arbitrary text (or binary) regarded
as the variable's <b>Definition</b>. Variables come in 2 flavors: <b><a href="#sec-6-1">Normal</a></b>
and <b><a href="#sec-6-2">Processed</a></b>, the only difference is how these their Definitions
are written (one uses <i>#define</i>, the other uses <a href="#sec-5">Processors</a>, more on this
later).
</p>

<p>
At the core of everything, a Variable is identified by a unique string
of text. This string of text must follow a particular syntax to be
valid. The syntax is as follows:
</p>

<ol class="org-ol">
<li>A variable must begin with <code>$(</code> called a <b>Variable Prefix</b>,
</li>
<li>followed by UTF-8 alphanumeric string <i>unless</i> it is a Processed
Variable to which a dot (<code>.</code>) is also present somewhere in the
middle. This is called the <b>Variable Name</b>, and;
</li>
<li>finally end with <code>)</code> called a <b>Variable Suffix</b>
</li>
</ol>

<p>
Note: the Vorlage will first attempt to locate Variable Prefixes and
Suffix pairs, only after that it will then determine the validity of
the variable name. If you've used an undefined and/or misformatted
Variable Name, then an Vorlage will ignore it all together.
</p>

<p>
Note: no Variable can exceed 32 characters (<code>MaxVariableLength</code>). Not
to be confused with the Variable's Definition, of which can be an
unlimited length.
</p>

<p>
Example: <code>$(MyName)</code>, is a Normal Variable, and <code>MyName</code> is the
Variable Name.
</p>
</div>

<div id="outline-container-sec-6-1" class="outline-3">
<h3 id="sec-6-1"><span class="section-number-3">6.1</span> Normal</h3>
<div class="outline-text-3" id="text-6-1">
<p>
Normal Variables are defined by using the <i>#define</i> macro, this define
macro can be in the root Document itself, or a Document that has been
either prepended or appended to that root Document. In any case, a
Normal Variable can be used in any document, parent or child, as
<i>#define</i> adds the Variable's definition to the context of the Request,
not to the root Document.
</p>
</div>
</div>

<div id="outline-container-sec-6-2" class="outline-3">
<h3 id="sec-6-2"><span class="section-number-3">6.2</span> Processed</h3>
<div class="outline-text-3" id="text-6-2">
<p>
Processed Variables are tangibly different from Normal variables
because their Variable Name has a dot (<code>.</code>) separating the
later-discussed <b><i>Processor Name</i></b> and the name familiar with the
Processor called the <b>Processor-Variable Name</b>.
</p>

<p>
Example: <code>$(myproc.BlobPosts)</code> is a Processed variable,
<code>myproc.BlogPosts</code> is the Variable Name, <code>myproc</code> is the Processor
Name, and <code>BlobPosts</code> is the Processor-Variable Name.
</p>

<p>
Any given Processed Variable may require <b><a href="#sec-7">Input</a></b> of which is loaded in
during the Request Phase. Thus, Processor Variables are a lot like
function call.
</p>

<p>
Once a Processed Variable has been fully loaded, meaning that the
processor was fully loaded, the variable was found, and the inputs are
a match, the processor will then be responsible for defining it. Note
that any errors that occur during definition will not stop the overall
Request. Thus, Processors have no ability to hinder the Output Phase
with the exception of memory violations, which will kill the process
overall.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7"><span class="section-number-2">7</span> Input</h2>
<div class="outline-text-2" id="text-7">
<p>
During the Startup Phase, each <a href="#sec-6-2">Processed Variable</a> has the option to
specify a list of arguments (also refered to as input prototype) known
as <b>Variable Input</b>. Furthermore, the Processor itself has the option
to provide a processor-level list of Arguments/Input Prototype refered
to as <b><a href="#sec-7-3">Processor Input</a></b>. Each argument will have a name and
description that will be visible to the front-end developer.
</p>

<p>
Input will only be given to the Variable/Processor by Vorlage when it
was explicitly asked for by during the Startup Phase. Thus, a variable
amount of arguments is not possible. The Processor Developer must be
very specific and very mindful of the front-end developer's abilities
to understand how to use the input.
</p>

<p>
Input is supplied by the user during the Requesting Phase and that
same Input is used throughout the request's lifecycle and doesn't
change.
</p>

<p>
Example: If <code>$(mytranslator.german)</code> is detected inside the document,
the processor <code>mytranslator</code> will be loaded and that processor will
then demand that the <code>german</code> variable be supplied an Input with the
variable name of <code>english</code>. As you can see, <code>$(mytranslator.german)</code>
translates English to German. For a more applied example, if we were
in the context of HTTP/HTML, the request
<code>www.mywebsite.com/germantranslator.proc.html?english=Hello</code> will
cause all instances of <code>$(mytanslator.german)</code> in
<code>germantranslator.proc.html</code> to be compiled to "Guten Tag".
</p>

<p>
#+BEGIN<sub>COMMENT</sub>  I don't want to specify static/streamed in here. leave it impl-specific
</p>

<p>
Values comes in two forms: <b><a href="#sec-7-1">Static</a></b> and <b><i>Streamed Values</i></b>. The list of
Input Names for a given Processor Variable must be mutually exclusive
between Static and Streamed.
</p>
</div>

<div id="outline-container-sec-7-1" class="outline-3">
<h3 id="sec-7-1"><span class="section-number-3">7.1</span> Static Argument values</h3>
<div class="outline-text-3" id="text-7-1">
<p>
Static Values are simple, and should be used more or less 95% of the
time with Vorlage. Static Values are given to the Processor
in entirety. The translator above is an example of static values.
</p>

<p>
So you're probably wondering, "static values seems like everything
I'll ever need&#x2026; what is this other type of value?", Let's move on.
</p>
</div>
</div>

<div id="outline-container-sec-7-2" class="outline-3">
<h3 id="sec-7-2"><span class="section-number-3">7.2</span> Streamed Argument Values</h3>
<div class="outline-text-3" id="text-7-2">
<p>
Streamed Values are complex in nature but very powerful. Streamed
values are NOT given to the Processor in entirety. The Processor is
instead given a file descriptor to which it can read from.
</p>

<p>
An example of when you should use Inputs with Streamed Value is file
uploads. For instance if you try to upload a 6GiB file and supply
it too the processor via a Static Value that would mean you'd need to
store the entire file in 6GiB of memory. Using a Streamed Value means
vorlage doesn't need to read the entire file.
</p>

<p>
There's a drawback with Streamed Values, and that's its inability to
be supplied more than once. Inputs using Streamed Values can only be
used once per Compilation.
</p>

<p>
For instance, if <code>$(myconverter.ToPNG)</code> requires a <code>imageFile</code> Input
to be streamed, it will output the PNG conversion. But,
<code>$(myconverter.ToJPEG)</code> also requires a <code>imageFile</code> Input to be
streamed. Thus an error will occour if you try to include both
<code>$(myconverter.ToPNG)</code> and <code>$(myconverter.ToJPEG)</code> on the same page
because one will read the stream to its end and the other will be
given nothing but an empty stream.
</p>

<p>
Note that it is still possible to make that practical example work,
but you'd have to add a better degree of backend engineering, such as
to replace the use of 2 Streamed Values with 1 Streamed Values and 2
other Processed Variables that will read from a file saved by Streamed
Value Input and output the conversions.
</p>


<p>
#+END<sub>COMMENT</sub>
</p>
</div>
</div>
<div id="outline-container-sec-7-3" class="outline-3">
<h3 id="sec-7-3"><span class="section-number-3">7.3</span> Processor Input</h3>
<div class="outline-text-3" id="text-7-3">
<p>
During the Request Phase, each processor will be given their
respective Processor Input in the same form as if it was being given
to a Processor Variable.
</p>

<p>
This give the processors an opportunity to react to the request itself,
at this time the processor may demand that the overall request be
terminated or perform other actions that is proper to the protocol
that Vorlage is using. For example, a processor may want to set
cookies in an HTTP request. And of course this cannot be done during
the Output Phase as HTTP disallows setting cookies during the
outputting of the page.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-8" class="outline-2">
<h2 id="sec-8"><span class="section-number-2">8</span> Further Elaboration on Technical Details</h2>
<div class="outline-text-2" id="text-8">
</div><div id="outline-container-sec-8-1" class="outline-3">
<h3 id="sec-8-1"><span class="section-number-3">8.1</span> Circular Dependencies</h3>
<div class="outline-text-3" id="text-8-1">
<p>
A Circular Dependency is an error that occurs when a Document
(<i>Document A</i>) includes another Document (<i>Document B</i>) in which
includes the includer document (<i>Document A</i>). This includes a
Document trying to include itself. An example is shown below.
</p>

<p>
<b>Parent.html</b>
</p>
<div class="org-src-container">

<pre class="src src-html">#append Child.html

...
</pre>
</div>



<p>
<b>Child.html</b>
</p>
<div class="org-src-container">

<pre class="src src-html">#append GrandChild.html

...
</pre>
</div>


<p>
<b>GrandChild.html</b>
</p>
<div class="org-src-container">

<pre class="src src-html">#append Parent.html

...
</pre>
</div>

<p>
You see that? <code>Parent.html</code> includes <code>Child.html</code> which includes
<code>GrandChild.html</code> which <i>then</i> include <code>Parent.html</code>. Thus,
<code>Parent.html</code> is indirectly including itself, this is a circular
dependency and will cause an error.
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Kevin Marschke &lt;kmarshcke@ellem.ai&gt;</p>
<p class="date">Created: 2020-12-22 Tue 17:21</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.2.2 (<a href="http://orgmode.org">Org</a> mode 8.2.10)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
